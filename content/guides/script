import os
import re

# get the current directory
directory_path = os.getcwd()

# iterate over each file in the directory
for filename in os.listdir(directory_path):
    # construct the full file path
    file_path = os.path.join(directory_path, filename)

    # only process Markdown files
    if os.path.isfile(file_path) and filename.endswith('.md'):
        with open(file_path, 'r') as file:
            text = file.read()
        
        # regex pattern and replacement
        pattern = r"First Appeared: (https://\S+)"
        replacement = r"[Original post](\1)"
        markdown_text = re.sub(pattern, replacement, text)

        # write the modified text back to the file
        with open(file_path, 'w') as file:
            file.write(markdown_text)
